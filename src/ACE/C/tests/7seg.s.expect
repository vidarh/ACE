
	xref _MathBase
	xref _LVOSPFlt
	xref _LVOSPCmp
	xref _round
	xref lmulu
	xref _htol
	xref _strlen
	xref _LVOSPAdd
	xref _AbsExecBase
	xref _LVOPermit
	xref _RPort
	xref _GfxBase
	xref _LVOMove
	xref _LVOSetAPen
	xref _LVORectFill
	xref _fgdpen
	xref _lab13
	xref _lab14
	xref _lab15
	xref _lab16
	xref _LVOForbid
	xref _SUB_DRAWSEGMENT
	xref _lab18
	xref _lab19
	xref _lab21
	xref _lab22
	xref _lab24
	xref _lab25
	xref _lab27
	xref _lab28
	xref _lab30
	xref _lab31
	xref _lab33
	xref _lab34
	xref _strcpy
	xref _midstr
	xref _val
	xref _MathTransBase
	xref _SUB_PLOTDIGIT
	xref _openscreen
	xref _OpenWdw
	xref _ChangeMenuState
	xref _menu_test
	xref _lab44
	xref _wdw_close_test
	xref _lab45
	xref _palette
	xref _timeofday
	xref _rightstr
	xref _lab47
	xref _lab48
	xref _SUB_DISPLAYNUMBER
	xref _timer
	xref _lab50
	xref _lab51
	xref _lab52
	xref _lab53
	xref _lab55
	xref _lab56
	xref _lab57
	xref _lab58
	xref _lab59
	xref _lab60
	xref _lab61
	xref _CloseWdw
	xref _lab62
	xref _lab63
	xref _closescreen
	xref _lab64
	xref _lab65
	xref _lab66
	xref _lab67
	xref _MenuFunc
	xref _lab68
	xref _lab69
	xref _lab70
	xref _lab71
	xref _lab73
	xref _startup
	xref _cleanup
	xref _openmathffp
	xref _closemathffp
	xref _openmathtrans
	xref _closemathtrans
	xref _IntuitionBase
	xref _DosBase
	xref _opengfx
	xref _closegfx
	xref _openintuition
	xref _closeintuition
	xref _starterr
	xdef _EXIT_PROG
	xref _free_alloc

	SECTION code,CODE

	jsr	_startup
	cmpi.b	#1,_starterr
	bne.s	_START_PROG
	rts
_START_PROG:
	move.l	sp,_initialSP
	movem.l	d1-d7/a0-a6,-(sp)
	jsr	_openmathffp
	cmpi.b	#1,_starterr
	bne.s	_mathffp_ok
	jmp	_ABORT_PROG
_mathffp_ok:
	jsr	_openmathtrans
	cmpi.b	#1,_starterr
	bne.s	_mathtrans_ok
	jmp	_ABORT_PROG
_mathtrans_ok:
	jsr	_openintuition
	cmpi.b	#1,_starterr
	bne.s	_intuition_ok
	jmp	_ABORT_PROG
_intuition_ok:
	jsr	_opengfx
	cmpi.b	#1,_starterr
	bne.s	_gfx_ok
	jmp	_ABORT_PROG
_gfx_ok:
	link	a4,#-50

	move.l	#_BASICdata,_dataptr
	move.w	#0,-2(a4)
	move.w	#0,-4(a4)
	move.w	#0,-6(a4)
	pea	_array0
	move.l	(sp)+,-10(a4)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-14(a4)
	move.w	#9,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	#$80000041,-(sp)
_lab0:
	moveq	#0,d1
	move.l	(sp),d0
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt.s	_lab1
	move.l	-14(a4),d0
	move.l	4(sp),d1
	jsr	_LVOSPCmp(a6)
	bgt	_lab7
	jmp	_lab2
_lab1:
	move.l	-14(a4),d0
	move.l	4(sp),d1
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt	_lab7
_lab2:
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-18(a4)
	move.w	#7,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	#$80000041,-(sp)
_lab3:
	moveq	#0,d1
	move.l	(sp),d0
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt.s	_lab4
	move.l	-18(a4),d0
	move.l	4(sp),d1
	jsr	_LVOSPCmp(a6)
	bgt	_lab6
	jmp	_lab5
_lab4:
	move.l	-18(a4),d0
	move.l	4(sp),d1
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt	_lab6
_lab5:
	move.l	-14(a4),-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.l	-18(a4),-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	moveq	#0,d7
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	#1,-(sp)
	jsr	lmulu
	add.l	#8,sp
	add.l	d0,d7
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	#8,-(sp)
	jsr	lmulu
	add.l	#8,sp
	add.l	d0,d7
	lsl.l	#1,d7
	move.l	-10(a4),a2
	move.l	_dataptr,a1
	jsr	_htol
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.w	(sp)+,0(a2,d7.L)
	move.l	_dataptr,a2
	jsr	_strlen
	addq	#1,d0
	move.l	_dataptr,d1
	add.l	d0,d1
	move.l	d1,_dataptr
	move.l	(sp),d0
	move.l	-18(a4),d1
	move.l	_MathBase,a6
	jsr	_LVOSPAdd(a6)
	move.l	d0,-18(a4)
	jmp	_lab3
_lab6:
	add.l	#8,sp
	move.l	(sp),d0
	move.l	-14(a4),d1
	move.l	_MathBase,a6
	jsr	_LVOSPAdd(a6)
	move.l	d0,-14(a4)
	jmp	_lab0
_lab7:
	add.l	#8,sp
	jmp	_lab8
_SUB_DRAWSEGMENT:
	link	a5,#-20
	move.l	_AbsExecBase,a6
	jsr	_LVOPermit(a6)
	move.l	a4,d0
	sub.l	#2,d0
	move.l	d0,-12(a5)
	move.l	a4,d0
	sub.l	#4,d0
	move.l	d0,-16(a5)
	move.l	a4,d0
	sub.l	#6,d0
	move.l	d0,-20(a5)
	move.l	-12(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	-2(a5),-(sp)
	move.w	#15,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.l	-16(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	-4(a5),-(sp)
	move.w	#10,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.w	(sp)+,d1
	move.w	(sp)+,d0
	move.w	d0,_xmin
	move.w	d1,_ymin
	move.l	_RPort,a1
	move.l	_GfxBase,a6
	move.l	-12(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	-6(a5),-(sp)
	move.w	#15,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.l	-16(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	-8(a5),-(sp)
	move.w	#10,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.w	_xmin,-(sp)
	move.w	_ymin,-(sp)
	move.l	-20(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	move.l	_RPort,a1
	jsr	_LVOSetAPen(a6)
	move.w	(sp)+,_ymin
	move.w	(sp)+,_xmin
	move.l	_RPort,a1
	move.w	(sp)+,d3
	move.w	(sp)+,d2
	move.w	_ymin,d1
	move.w	_xmin,d0
	jsr	_LVORectFill(a6)
	move.w	_fgdpen,d0
	move.l	_RPort,a1
	jsr	_LVOSetAPen(a6)
_EXIT_SUB_DRAWSEGMENT:
	unlk	a5
	rts	  
_lab8:
	jmp	_lab9
_SUB_PLOTDIGIT:
	link	a5,#-70
	move.l	_AbsExecBase,a6
	jsr	_LVOPermit(a6)
	move.l	-10(a4),-718522624(a5)
	move.l	a4,d0
	sub.l	#2,d0
	move.l	d0,-10(a5)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-14(a5)
	move.w	#7,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	#$80000041,-(sp)
_lab10:
	moveq	#0,d1
	move.l	(sp),d0
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt.s	_lab11
	move.l	-14(a5),d0
	move.l	4(sp),d1
	jsr	_LVOSPCmp(a6)
	bgt	_lab38
	jmp	_lab12
_lab11:
	move.l	-14(a5),d0
	move.l	4(sp),d1
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt	_lab38
_lab12:
	move.w	-2(a5),-(sp)
	move.l	-14(a5),-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	moveq	#0,d7
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	#1,-(sp)
	jsr	lmulu
	add.l	#8,sp
	add.l	d0,d7
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	#8,-(sp)
	jsr	lmulu
	add.l	#8,sp
	add.l	d0,d7
	lsl.l	#1,d7
	move.l	-6(a5),a0
	move.w	0(a0,d7.L),-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d1
	move.w	(sp)+,d0
	moveq	#-1,d5
	cmp.w	d1,d0
	beq.s	_lab13
	moveq	#0,d5
_lab13:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab14
	jmp	_lab37
_lab14:
	move.l	-14(a5),-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab15
	moveq	#0,d5
_lab15:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab16
	jmp	_lab17
_lab16:
	move.w	#0,-(sp)
	move.w	(sp)+,-16(a5)
	move.w	#0,-(sp)
	move.w	(sp)+,-18(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-20(a5)
	move.w	#1,-(sp)
	move.w	(sp)+,-22(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-16(a5),-10(sp)
	move.w	-18(a5),-12(sp)
	move.w	-20(a5),-14(sp)
	move.w	-22(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab17:
	move.l	-14(a5),-(sp)
	move.w	#2,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab18
	moveq	#0,d5
_lab18:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab19
	jmp	_lab20
_lab19:
	move.w	#0,-(sp)
	move.w	(sp)+,-24(a5)
	move.w	#0,-(sp)
	move.w	(sp)+,-26(a5)
	move.w	#1,-(sp)
	move.w	(sp)+,-28(a5)
	move.w	#4,-(sp)
	move.w	(sp)+,-30(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-24(a5),-10(sp)
	move.w	-26(a5),-12(sp)
	move.w	-28(a5),-14(sp)
	move.w	-30(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab20:
	move.l	-14(a5),-(sp)
	move.w	#3,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab21
	moveq	#0,d5
_lab21:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab22
	jmp	_lab23
_lab22:
	move.w	#5,-(sp)
	move.w	(sp)+,-32(a5)
	move.w	#0,-(sp)
	move.w	(sp)+,-34(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-36(a5)
	move.w	#4,-(sp)
	move.w	(sp)+,-38(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-32(a5),-10(sp)
	move.w	-34(a5),-12(sp)
	move.w	-36(a5),-14(sp)
	move.w	-38(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab23:
	move.l	-14(a5),-(sp)
	move.w	#4,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab24
	moveq	#0,d5
_lab24:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab25
	jmp	_lab26
_lab25:
	move.w	#0,-(sp)
	move.w	(sp)+,-40(a5)
	move.w	#3,-(sp)
	move.w	(sp)+,-42(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-44(a5)
	move.w	#4,-(sp)
	move.w	(sp)+,-46(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-40(a5),-10(sp)
	move.w	-42(a5),-12(sp)
	move.w	-44(a5),-14(sp)
	move.w	-46(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab26:
	move.l	-14(a5),-(sp)
	move.w	#5,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab27
	moveq	#0,d5
_lab27:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab28
	jmp	_lab29
_lab28:
	move.w	#0,-(sp)
	move.w	(sp)+,-48(a5)
	move.w	#3,-(sp)
	move.w	(sp)+,-50(a5)
	move.w	#1,-(sp)
	move.w	(sp)+,-52(a5)
	move.w	#7,-(sp)
	move.w	(sp)+,-54(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-48(a5),-10(sp)
	move.w	-50(a5),-12(sp)
	move.w	-52(a5),-14(sp)
	move.w	-54(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab29:
	move.l	-14(a5),-(sp)
	move.w	#6,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab30
	moveq	#0,d5
_lab30:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab31
	jmp	_lab32
_lab31:
	move.w	#5,-(sp)
	move.w	(sp)+,-56(a5)
	move.w	#3,-(sp)
	move.w	(sp)+,-58(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-60(a5)
	move.w	#7,-(sp)
	move.w	(sp)+,-62(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-56(a5),-10(sp)
	move.w	-58(a5),-12(sp)
	move.w	-60(a5),-14(sp)
	move.w	-62(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab32:
	move.l	-14(a5),-(sp)
	move.w	#7,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	beq.s	_lab33
	moveq	#0,d5
_lab33:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab34
	jmp	_lab35
_lab34:
	move.w	#0,-(sp)
	move.w	(sp)+,-64(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-66(a5)
	move.w	#6,-(sp)
	move.w	(sp)+,-68(a5)
	move.w	#7,-(sp)
	move.w	(sp)+,-70(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-64(a5),-10(sp)
	move.w	-66(a5),-12(sp)
	move.w	-68(a5),-14(sp)
	move.w	-70(a5),-16(sp)
	jsr	_SUB_DRAWSEGMENT
	jmp	_lab36
_lab35:
_lab36:
_lab37:
	move.l	(sp),d0
	move.l	-14(a5),d1
	move.l	_MathBase,a6
	jsr	_LVOSPAdd(a6)
	move.l	d0,-14(a5)
	jmp	_lab10
_lab38:
	add.l	#8,sp
	move.l	-10(a5),a0
	move.w	(a0),-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#6,-(sp)
	move.w	#15,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.w	#1,-(sp)
	move.w	#15,-(sp)
	move.w	(sp)+,d0
	move.w	(sp)+,d1
	muls	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	add.l	d1,d0
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.l	-10(a5),a0
	move.w	(sp)+,(a0)
_EXIT_SUB_PLOTDIGIT:
	unlk	a5
	rts	  
_lab9:
	jmp	_lab39
_SUB_DISPLAYNUMBER:
	link	a5,#-10
	move.l	_AbsExecBase,a6
	jsr	_LVOPermit(a6)
	move.l	-4(a5),-(sp)
	pea	_stringvar0
	move.l	(sp)+,-4(a5)
	move.l	(sp)+,a1
	move.l	-4(a5),a0
	jsr	_strcpy
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-8(a5)
	move.l	-4(a5),-(sp)
	move.l	(sp)+,a2
	jsr	_strlen
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	#$80000041,-(sp)
_lab40:
	moveq	#0,d1
	move.l	(sp),d0
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt.s	_lab41
	move.l	-8(a5),d0
	move.l	4(sp),d1
	jsr	_LVOSPCmp(a6)
	bgt	_lab43
	jmp	_lab42
_lab41:
	move.l	-8(a5),d0
	move.l	4(sp),d1
	move.l	_MathBase,a6
	jsr	_LVOSPCmp(a6)
	blt	_lab43
_lab42:
	move.l	-4(a5),-(sp)
	move.l	-8(a5),-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d1
	move.w	(sp)+,d0
	move.l	(sp)+,a0
	lea	_tempstring0,a1
	jsr	_midstr
	jsr	_val
	addq	#4,sp
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.w	d0,-(sp)
	move.w	(sp)+,-10(a5)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.w	-10(a5),-10(sp)
	jsr	_SUB_PLOTDIGIT
	move.l	(sp),d0
	move.l	-8(a5),d1
	move.l	_MathBase,a6
	jsr	_LVOSPAdd(a6)
	move.l	d0,-8(a5)
	jmp	_lab40
_lab43:
	add.l	#8,sp
_EXIT_SUB_DISPLAYNUMBER:
	unlk	a5
	rts	  
_lab39:
	move.w	#1,-(sp)
	move.w	#640,-(sp)
	move.w	#200,-(sp)
	move.w	#3,-(sp)
	move.w	#2,-(sp)
	move.w	(sp)+,d4
	move.w	(sp)+,d3
	move.w	(sp)+,d2
	move.w	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_openscreen
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	pea	_stringconst0
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#640,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#200,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#31,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	jsr	_OpenWdw
	add.l	#32,sp
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	jsr	_ChangeMenuState
	add.l	#12,sp
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	jsr	_ChangeMenuState
	add.l	#12,sp
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab44
	jsr	HANDLE_MENU
_lab44:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab45
	jsr	HANDLE_WINDOW
_lab45:
	move.w	#0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#1,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#2,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#3,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#4,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#5,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#6,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#7,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.w	#0,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d3
	move.l	(sp)+,d2
	move.l	(sp)+,d1
	move.w	(sp)+,d0
	jsr	_palette
	move.w	#50,-(sp)
	move.w	(sp)+,-4(a4)
	move.l	#0,-(sp)
	move.l	(sp)+,d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-34(a4)
_lab46:
	move.w	#190,-(sp)
	move.w	(sp)+,-2(a4)
	move.w	#7,-(sp)
	move.w	(sp)+,-6(a4)
	jsr	_timeofday
	move.l	d0,-(sp)
	move.w	#2,-(sp)
	move.w	(sp)+,d0
	move.l	(sp)+,a0
	lea	_tempstring1,a1
	jsr	_rightstr
	move.l	a0,-(sp)
	pea	_stringvar1
	move.l	(sp)+,-38(a4)
	move.l	(sp)+,a1
	move.l	-38(a4),a0
	jsr	_strcpy
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab47
	jsr	HANDLE_MENU
_lab47:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab48
	jsr	HANDLE_WINDOW
_lab48:
	move.l	-38(a4),-(sp)
	move.l	(sp)+,-42(a4)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.l	-42(a4),-12(sp)
	jsr	_SUB_DISPLAYNUMBER
	jsr	_timer
	move.l	d0,-(sp)
	move.l	(sp)+,-46(a4)
_lab49:
	jsr	_timer
	move.l	d0,-(sp)
	move.l	-46(a4),-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	jsr	_LVOSPAdd(a6)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	jsr	_LVOSPCmp(a6)
	blt.s	_lab50
	moveq	#0,d5
_lab50:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab51
	jmp	_lab54
_lab51:
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab52
	jsr	HANDLE_MENU
_lab52:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab53
	jsr	HANDLE_WINDOW
_lab53:
	jmp	_lab49
_lab54:
	move.w	#190,-(sp)
	move.w	(sp)+,-2(a4)
	move.w	#0,-(sp)
	move.w	(sp)+,-6(a4)
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab55
	jsr	HANDLE_MENU
_lab55:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab56
	jsr	HANDLE_WINDOW
_lab56:
	move.l	-38(a4),-(sp)
	move.l	(sp)+,-50(a4)
	move.l	_AbsExecBase,a6
	jsr	_LVOForbid(a6)
	move.l	-50(a4),-12(sp)
	jsr	_SUB_DISPLAYNUMBER
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab57
	jsr	HANDLE_MENU
_lab57:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab58
	jsr	HANDLE_WINDOW
_lab58:
	move.l	-34(a4),-(sp)
	move.l	(sp)+,d0
	jsr	_round
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab59
	jmp	_lab46
_lab59:
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab60
	jsr	HANDLE_MENU
_lab60:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab61
	jsr	HANDLE_WINDOW
_lab61:
	jsr	_CloseWdw
	addq	#4,sp
	move.l	d0,-(sp)
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab62
	jsr	HANDLE_MENU
_lab62:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab63
	jsr	HANDLE_WINDOW
_lab63:
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	jsr	_closescreen
	jsr	_menu_test
	cmpi.l	#0,d0
	beq.s	_lab64
	jsr	HANDLE_MENU
_lab64:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab65
	jsr	HANDLE_WINDOW
_lab65:
	jmp	_EXIT_PROG
HANDLE_MENU:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab66
	jsr	HANDLE_WINDOW
_lab66:
	move.w	#0,-(sp)
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab67
	jsr	HANDLE_WINDOW
_lab67:
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	jsr	_MenuFunc
	addq	#4,sp
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	cmp.l	d1,d0
	beq.s	_lab68
	moveq	#0,d5
_lab68:
	move.l	d5,-(sp)
	move.w	#1,-(sp)
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab69
	jsr	HANDLE_WINDOW
_lab69:
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	jsr	_MenuFunc
	addq	#4,sp
	move.l	d0,-(sp)
	move.w	#1,-(sp)
	move.w	(sp)+,d0
	ext.l	d0
	move.l	d0,-(sp)
	move.l	(sp)+,d1
	move.l	(sp)+,d0
	moveq	#-1,d5
	cmp.l	d1,d0
	beq.s	_lab70
	moveq	#0,d5
_lab70:
	move.l	d5,-(sp)
	move.l	(sp)+,d0
	move.l	(sp)+,d1
	and.l	d1,d0
	move.l	d0,-(sp)
	move.l	(sp)+,d0
	cmpi.l	#0,d0
	bne.s	_lab71
	jmp	_lab72
_lab71:
	move.l	#$ffffffffffffffff,-(sp)
	move.l	(sp)+,d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-34(a4)
_lab72:
	move.l	#0,-(sp)
	jsr	_wdw_close_test
	addq	#4,sp
	cmpi.l	#0,d0
	beq.s	_lab73
	jsr	HANDLE_WINDOW
_lab73:
	rts	  
HANDLE_WINDOW:
	move.l	#$ffffffffffffffff,-(sp)
	move.l	(sp)+,d0
	move.l	_MathBase,a6
	jsr	_LVOSPFlt(a6)
	move.l	d0,-(sp)
	move.l	(sp)+,-34(a4)
	rts	  

_EXIT_PROG:
	unlk	a4
_ABORT_PROG:
	jsr	_free_alloc
	jsr	_closegfx
	jsr	_closeintuition
	jsr	_closemathtrans
	jsr	_closemathffp
	movem.l	(sp)+,d1-d7/a0-a6
	move.l	_initialSP,sp
	jsr	_cleanup

	rts

	SECTION data,DATA

_stringconst0:	dc.b "Seconds",0

_BASICdata:
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0
	dc.b "0",0

	SECTION mem,BSS

_array0:	ds.w 80
_xmin	ds.w 1
_ymin	ds.w 1
_stringvar0:	ds.b 1024
_tempstring0:	ds.b 1024
_tempstring1:	ds.b 1024
_stringvar1:	ds.b 1024
_dataptr:	ds.l 1
_initialSP:	ds.l 1

	END
